<!DOCTYPE html>
<html>
<head>
    <title>BPS Salary Visualization</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css"/>
    <link rel="stylesheet" href="css/style.css"/>
</head>
<body>
    <div id="map"></div>

    <script src="http://cdn.leafletjs.com/leaflet-0.7/leaflet.js"></script>
    <script src="js/jquery-1.11.3.min.js"></script>
    <!-- TODO: Figure out more elegant way of loading geojson -->
    <script src="data/Public_Schools.geojson"></script>

    <script>
        var boston_coordinates = [42.3601, -71.0589];

        var map = L.map('map').setView(boston_coordinates, 12);
        mapLink = '<a href="http://openstreetmap.org">OpenStreetMap</a>';
        dataLink = '<a href="https://data.cityofboston.gov">CityofBoston<a/>';
        githubLink = '<a href="https://github.com/xueharry/BPS_Teacher_Salary_Visualization">Github</a>';

        L.tileLayer(
            'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'Map data &copy; ' + mapLink + ' | Salary data &copy; ' + dataLink + ' | ' + githubLink,
            maxZoom: 18,
            }).addTo(map);

        // Add school marker
        var myLayer = L.geoJson(schools, {
            onEachFeature: onEachFeatureFunction
        }).addTo(map);

        // Add popups displaying the school name
        function onEachFeatureFunction(feature, layer){
            if (feature.properties.SCH_LABEL) {
                layer.bindPopup(feature.properties.SCH_LABEL);
            }
        }

    </script>
</body>
</html>